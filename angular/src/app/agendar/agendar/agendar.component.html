<mat-card>
    <mat-toolbar color="primary"> Transferências </mat-toolbar>

    <div class="column-flex">
      <div *ngIf="transferencias$ | async as transferencias; else loading">
        <mat-table
          mat-table
          [dataSource]="transferencias">

          <!-- Conta Origem Column -->
          <ng-container matColumnDef="contaOrigem">
            <mat-header-cell *matHeaderCellDef>Conta de Origem</mat-header-cell>
            <mat-cell *matCellDef="let agendar">{{
              agendar.contaOrigem
            }}</mat-cell>
          </ng-container>

          <!-- Conta Destino Column -->
          <ng-container matColumnDef="contaDestino">
            <mat-header-cell *matHeaderCellDef
              >Conta de Destino</mat-header-cell
            >
            <mat-cell *matCellDef="let agendar">{{
              agendar.contaDestino
            }}</mat-cell>
          </ng-container>

          <!-- Valor Transferencia Column -->
          <ng-container matColumnDef="valorTransferencia">
            <mat-header-cell *matHeaderCellDef
              >Valor da Transferência</mat-header-cell
            >
            <mat-cell *matCellDef="let agendar">
              {{ agendar.valorTransferencia }}
            </mat-cell>
          </ng-container>

          <!-- Taxa Column -->
          <ng-container matColumnDef="taxa">
            <mat-header-cell *matHeaderCellDef>Taxa</mat-header-cell>
            <mat-cell *matCellDef="let agendar">{{ agendar.taxa }}</mat-cell>
          </ng-container>

          <!-- Data Transferencia Column -->
          <ng-container matColumnDef="dataTransferencia">
            <mat-header-cell *matHeaderCellDef
              >Data de Transferência</mat-header-cell
            >
            <mat-cell *matCellDef="let agendar">
              {{ agendar.dataTransferencia }}
            </mat-cell>
          </ng-container>

          <!-- Data Agendada Column -->
          <ng-container matColumnDef="dataAgendada">
            <mat-header-cell *matHeaderCellDef
              >Data de Agendamento</mat-header-cell
            >
            <mat-cell *matCellDef="let agendar">{{
              agendar.dataAgendada
            }}</mat-cell>
          </ng-container>

          <!-- Actions Column -->
          <ng-container matColumnDef="actions" *ngIf="transferencias$ | async as transferencia;">
            <mat-header-cell *matHeaderCellDef="" class="action-column">
              <button
                mat-mini-fab
                color="primary"
                (click)="onAdd()"
                aria-label="Adicionar uma transferência"
              >
                <mat-icon>add</mat-icon>
              </button>
            </mat-header-cell>

            <mat-cell *matCellDef="let agendar" class="action-column">
              <button
                mat-mini-fab
                color="warn"
                (click)="onDelete(agendar)"
                aria-label="Excluir uma transferência">
                <mat-icon>delete</mat-icon>
              </button>
            </mat-cell>
          </ng-container>

          <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
          <mat-row *matRowDef="let row; columns: displayedColumns"></mat-row>
        </mat-table>
      </div>
      <ng-template #loading>
        <div class="loading-spinner">
          <mat-spinner></mat-spinner>
        </div>
      </ng-template>
    </div>
  </mat-card>
